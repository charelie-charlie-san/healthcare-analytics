# 🏥 クリニック経営分析ダッシュボード

[![Streamlit](https://img.shields.io/badge/Streamlit-FF4B4B?style=for-the-badge&logo=streamlit&logoColor=white)](https://streamlit.io/)
[![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
[![Plotly](https://img.shields.io/badge/Plotly-3F4F75?style=for-the-badge&logo=plotly&logoColor=white)](https://plotly.com/)

> **🤖 AI駆動開発プロジェクト**  
> 非エンジニアが Cursor × Gemini で開発した、都心クリニック向けの経営分析ダッシュボード

---

## 📊 プロジェクト概要

都心の総合内科クリニック（医師1名、1日平均60人）を想定した経営分析ダッシュボードです。

### ✨ 主な機能

| 機能 | 説明 |
|------|------|
| 📈 **KPI可視化** | 総来院数、1日平均来院数、初診率、概算総売上を表示 |
| 📅 **日次来院数推移** | 初診・再診の積み上げグラフで推移を可視化 |
| 🕐 **混雑傾向分析** | 曜日別・時間帯別の来院数をグラフ化 |
| 👥 **患者属性分析** | 年齢階層別・保険種別の分布を表示 |
| 💰 **売上分析** | 日次売上推移と初診・再診の売上比較 |
| 🔍 **期間フィルター** | サイドバーで月単位の表示期間を選択可能 |
| 📥 **データエクスポート** | CSVダウンロード機能 |

---

## 🚀 クイックスタート

### 1️⃣ リポジトリをクローン

```bash
git clone https://github.com/charelie-charlie-san/healthcare-analytics.git
cd healthcare-analytics
```

### 2️⃣ 依存パッケージをインストール

```bash
pip install -r requirements.txt
```

### 3️⃣ アプリを起動

```bash
streamlit run app.py
```

ブラウザが自動で開きます！（開かない場合は http://localhost:8501 にアクセス）

---

## 🏥 クリニック設定（ダミーデータ）

このダッシュボードは、以下の設定で動的にダミーデータを生成します：

| 項目 | 設定 |
|------|------|
| **診療科** | 都心の総合内科 |
| **所在地** | オフィス街・住宅地の混合エリア |
| **規模** | 医師1名の1診制 |
| **来院数** | 1日平均60人前後（繁盛店） |
| **営業日** | 月〜土（木・土は午前のみ） |
| **休診日** | 日曜・祝日 |
| **データ期間** | 直近6ヶ月分 |

### 患者層の特徴

- **年齢層**: 30代〜50代の働き盛りが中心
- **保険種別**: 社会保険が多い（オフィス街の特性）
- **初診率**: 約20%（新患が定期的に来院）
- **ピーク時間**: 11時台、15時台

---

## 🛠️ 技術スタック

このプロジェクトは、以下のツール・技術で構築されています：

### 開発環境
- **🤖 AI:** Cursor + Google Gemini（AI駆動開発）
- **🐍 言語:** Python 3.x
- **📦 環境:** Anaconda

### フレームワーク・ライブラリ
- **Streamlit** - インタラクティブなダッシュボード構築
- **Pandas** - データ処理・分析
- **NumPy** - ダミーデータ生成
- **Plotly** - インタラクティブなグラフ描画

---

## 📁 データ構造

ダミーデータは以下のカラムで生成されます：

| カラム名 | データ型 | 説明 |
|---------|---------|------|
| `visit_date` | Datetime | 来院日 |
| `visit_type` | String | 初診 or 再診 |
| `age` | Integer | 年齢 |
| `gender` | String | 性別 |
| `insurance_type` | String | 社保 / 国保 / 後期高齢 |
| `revenue` | Integer | 診療報酬（円） |
| `hour` | Integer | 来院時間帯 |
| `weekday_jp` | String | 曜日（日本語） |

---

## 🎨 デザインコンセプト

### UI/UX
- **🧼 清潔感:** 医療系にふさわしい白基調
- **🔵 信頼性:** メディカルブルー（#0056b3）
- **👁️ 視認性:** くっきりした文字と適度な余白
- **📱 レスポンシブ:** PC・タブレット・スマホ対応

### グラフデザイン
- **積み上げ棒グラフ:** 初診・再診の推移を視覚化
- **カラーパレット:** ブルー・グリーン・パープルの調和
- **インタラクティブ:** Plotlyによるホバー情報表示

---

## 💡 使い方

### ダッシュボード画面

1. 画面上部に**主要KPI**が表示されます
   - 総来院数
   - 1日平均来院数
   - 初診率
   - 概算総売上

2. **日次来院数推移**で、初診・再診の積み上げグラフを確認

3. **混雑傾向**で、忙しい曜日・時間帯を把握

4. **患者属性**で、年齢層・保険種別の分布を確認

5. **売上分析**で、日次売上と初診・再診の売上比較を表示

### サイドバー

- **📅 表示期間:** 月単位で期間を選択（デフォルトは直近3ヶ月）
- **📊 クリニック概要:** 基本情報の表示

### データエクスポート

- 画面下部の「詳細データテーブル」を展開
- **📥 CSVダウンロード**ボタンでデータを保存

---

## 🔧 カスタマイズ

### 来院数を変更

```python
# app.py の generate_clinic_data() 関数内
base_patients = 60  # この数値を変更
```

### カラースキームを変更

```python
# グラフの色を変更
marker_color='#0056b3'  # 好きな色コードに変更
```

### 営業日を変更

```python
# 休診日の判定を変更
if date.weekday() == 6:  # 0=月曜日、6=日曜日
    continue
```

---

## 📝 開発ストーリー

このダッシュボードは、**非エンジニアがAI（Cursor + Gemini）を使って開発**しました。

### 開発プロセス
1. **要件定義:** クリニック経営の課題を整理
2. **AI対話:** Cursorで自然言語で指示を出し、コード生成
3. **ダミーデータ設計:** リアルな患者動態を再現
4. **反復改善:** グラフとUIをブラッシュアップ
5. **デプロイ:** GitHub + Streamlit Cloudで自動公開

### 学んだこと
- Streamlitの柔軟性とスピード感
- PlotlyとPandasの組み合わせの強力さ
- ダミーデータ生成のリアリティの重要性
- AI駆動開発の可能性（コードを書かずにここまでできる！）

---

## 🤝 コントリビュート

改善提案やバグ報告は Issues へ！  
プルリクエストも歓迎します 🙌

---

## 📄 ライセンス

MIT License - 自由に使ってください！

---

## 👤 開発者

**にくまる（AI駆動BizDev）**

- 🐦 Twitter/X: [@にくまる]
- 💼 GitHub: [@charelie-charlie-san]
- 🏥 専門: 医療×BizDev×AI駆動開発

---

## 🙏 謝辞

- **Streamlit** チーム - 素晴らしいフレームワークをありがとう
- **Cursor + Gemini** - AI駆動開発を可能にしてくれて感謝
- **医療業界の皆様** - このツールが少しでも役立てば嬉しいです

---

<div align="center">

**⭐ このプロジェクトが役に立ったら、スターをお願いします！ ⭐**

Made with ❤️ and 🤖 AI

</div>
